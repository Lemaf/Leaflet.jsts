!function(){var t=new jsts.geom.GeometryFactory,n={from:function(t,n){var e,o,i;if(t instanceof jsts.geom.MultiPolygon)e=this.multiPolygonToLatLngs(t),o=L.MultiPolygon;else if(t instanceof jsts.geom.MultiLineString)e=this.multiLineStringToLatLngs(t),o=L.MultiPolyline;else if(t instanceof jsts.geom.Polygon)e=this.polygonToLatLngs(t),o=L.Polygon;else{if(!(t instanceof jsts.geom.LineString))throw new Error("Unsupported geometry");e=this.lineStringToCoordinates(t),o=L.Polyline}return i=new o(e,n),i._jstsGeometry=t,i},coordinateToLatLng:function(t){return new L.LatLng(t.y,t.x)},coordinatesToLatLngs:function(t){return t.map(this.coordinateToLatLng,this)},linearRingToLatLngs:function(t){return this.coordinatesToLatLngs(t.getCoordinates().slice(0,-1))},lineStringToCoordinates:function(t){return t.getCoordinates().map(this.coordinateToLatLng,this)},multiLineStringToLatLngs:function(t){for(var n=[],e=0,o=t.getNumGeometries();o>e;e++)n.push(this.lineStringToCoordinates(t.getGeometryN(e)));return n},multiPolygonToLatLngs:function(t){for(var n=[],e=0,o=t.getNumGeometries();o>e;e++)n.push(this.polygonToLatLngs(t.getGeometryN(e)));return n},polygonToLatLngs:function(t){for(var n=this.linearRingToLatLngs(t.getExteriorRing()),e=[],o=0,i=t.getNumInteriorRing();i>o;o++)e.push(this.linearRingToLatLngs(t.getInteriorRingN(o)));return e.length?[n].concat(e):n}},e={from:function(n){var e,o;if(n instanceof L.MultiPolygon)return e=n.getLatLngs().map(this.multiLatLngsToCoordinates,this),o=e.map(this.coordinatesToPolygon,this),t.createMultiPolygon(o);if(n instanceof L.MultiPolyline)return e=latlngs.getLatLngs().map(this.multiLatLngsToCoordinates,this),o=e.map(this.coordinatesToLineString,this),t.createMultiLineString(o);if(n instanceof L.Polygon)return e=this.multiLatLngsToCoordinates(n.getLatLngs()),this.coordinatesToPolygon(e);if(n instanceof L.Polyline)return e=this.latLngsToCoordinates(n.getLatLngs()),this.coordinatesToLineString(e);throw new Error("Unsupported layer")},coordinatesToLinearRing:function(n){return t.createLinearRing(n.concat(n[0]))},coordinatesToLineString:function(n){return t.createLineString(n)},coordinatesToPolygon:function(n){var e=n.map(this.coordinatesToLinearRing,this);return e.length<2?t.createPolygon(e[0],[]):t.createPolygon(e[0],e.slice(1))},latLngToCoordinate:function(t){return new jsts.geom.Coordinate(t.lng,t.lat)},latLngsToCoordinates:function(t){return t.map(this.latLngToCoordinate,this)},multiLatLngsToCoordinates:function(t){return t.length?Array.isArray(t[0])?t.map(this.latLngsToCoordinates,this):[t.map(this.latLngToCoordinate,this)]:[]}};L.jsts||(L.jsts={});var o=t.createPolygon(t.createLinearRing([]),[]),i=t.createMultiPolygon([o]),s=t.createLineString([]),r=t.createMultiLineString([s]);L.extend(L.jsts,{FACTORY:t,EMPTY_POLYGON:o,EMPTY_MULTIPOLYGON:i,EMPTY_LINESTRING:s,EMPTY_MULTILINESTRING:r,leafletTojsts:function(t){return e.from(t)},jstsToleaflet:function(t,e){return n.from(t,e)}})}(),function(){function t(t,n){var o=this.getJstsGeometry(),i=n.getJstsGeometry();if(arguments.length<3)return o[t](i);var s=[i].concat(e.call(arguments,2));return o[t].apply(o,s)}var n=["intersects","within"];L.jsts.BinaryTest={};var e=Array.prototype.slice;n.forEach(function(n){L.jsts.BinaryTest[n]=function(){return t.apply(this,[n].concat(e.call(arguments,0)))}})}(),function(){function t(t,e){var o,i=this.getJstsGeometry(),s=e.getJstsGeometry();if(arguments.length<3)o=i[t](s);else{var r=[s].concat(n.call(arguments,2));o=i[t].apply(i,r)}if(!o.isEmpty())return L.jsts.jstsToleaflet(o,this.options);if(e=new this.constructor([],this.options),this instanceof L.MultiPolygon)e._jstsGeometry=L.jsts.EMPTY_MULTIPOLYGON;else if(this instanceof L.MultiPolyline)e._jstsGeometry=L.jsts.EMPTY_MULTILINESTRING;else if(this instanceof L.Polygon)e._jstsGeometry=L.jsts.EMPTY_POLYGON;else{if(!(this instanceof L.Polyline))throw new Error("Unsupported L.Path type");e._jstsGeometry=L.jsts.EMPTY_LINESTRING}return e}L.jsts.BinaryTopology={};var n=Array.prototype.slice,e=["intersection","union","difference"];e.forEach(function(e){L.jsts.BinaryTopology[e]=function(){return t.apply(this,[e].concat(n.call(arguments,0)))}})}(),L.FeatureGroup.include(L.jsts.BinaryTest),L.FeatureGroup.include({getJstsGeometry:function(){if(!this._jstsGeometry){var t=L.jsts.EMPTY_MULTIPOLYGON;this.eachLayer(function(n){var e=n.getJstsGeometry();t=t?t.union(e):e}),this._jstsGeometry=t}return this._jstsGeometry},_cleanJstsGeometry:function(){delete this._jstsGeometry}}),L.FeatureGroup.addInitHook(function(){this.on("layeradd",this._cleanJstsGeometry,this),this.on("layerremove",this._cleanJstsGeometry,this)}),L.Path.include(L.jsts.BinaryTest),L.Path.include(L.jsts.BinaryTopology),L.Path.include({getJstsGeometry:function(){return this._jstsGeometry||(this._jstsGeometry=L.jsts.leafletTojsts(this)),this._jstsGeometry}});