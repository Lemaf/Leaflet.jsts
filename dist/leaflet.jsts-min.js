!function(){var t=new jsts.geom.GeometryFactory,n={from:function(t,n){var e,o;if(t instanceof jsts.geom.MultiPolygon)e=this.multiPolygonToLatLngs(t),o=L.MultiPolygon;else if(t instanceof jsts.geom.MultiLineString)e=this.multiLineStringToLatLngs(t),o=L.MultiPolyline;else if(t instanceof jsts.geom.Polygon)e=this.polygonToLatLngs(t),o=L.Polygon;else{if(!(t instanceof jsts.geom.LineString))throw new Error("Unsupported geometry");e=this.lineStringToCoordinates(t),o=L.Polyline}return new o(e,n)},coordinateToLatLng:function(t){return new L.LatLng(t.y,t.x)},coordinatesToLatLngs:function(t){return t.map(this.coordinateToLatLng,this)},linearRingToLatLngs:function(t){return this.coordinatesToLatLngs(t.getCoordinates().slice(0,-1))},lineStringToCoordinates:function(t){return t.getCoordinates().map(this.coordinateToLatLng,this)},multiLineStringToLatLngs:function(t){for(var n=[],e=0,o=t.getNumGeometries();o>e;e++)n.push(this.lineStringToCoordinates(t.getGeometryN(e)));return n},multiPolygonToLatLngs:function(t){for(var n=[],e=0,o=t.getNumGeometries();o>e;e++)n.push(this.polygonToLatLngs(t.getGeometryN(e)));return n},polygonToLatLngs:function(t){for(var n=this.linearRingToLatLngs(t.getExteriorRing()),e=[],o=0,i=t.getNumInteriorRing();i>o;o++)e.push(this.linearRingToLatLngs(t.getInteriorRingN(o)));return e.length?[n].concat(e):n}},e={from:function(n){var e,o;if(n instanceof L.MultiPolygon)return e=n.getLatLngs().map(this.multiLatLngsToCoordinates,this),o=e.map(this.coordinatesToPolygon,this),t.createMultiPolygon(o);if(n instanceof L.MultiPolyline)return e=latlngs.getLatLngs().map(this.multiLatLngsToCoordinates,this),o=e.map(this.coordinatesToLineString,this),t.createMultiLineString(o);if(n instanceof L.Polygon)return e=this.multiLatLngsToCoordinates(n.getLatLngs()),this.coordinatesToPolygon(e);if(n instanceof L.Polyline)return e=this.latLngsToCoordinates(n.getLatLngs()),this.coordinatesToLineString(e);throw new Error("Unsupported layer")},coordinatesToLinearRing:function(n){return t.createLinearRing(n.concat(n[0]))},coordinatesToLineString:function(n){return t.createLineString(n)},coordinatesToPolygon:function(n){var e=n.map(this.coordinatesToLinearRing,this);return e.length<2?t.createPolygon(e[0],[]):t.createPolygon(e[0],e.slice(1))},latLngToCoordinate:function(t){return new jsts.geom.Coordinate(t.lng,t.lat)},latLngsToCoordinates:function(t){return t.map(this.latLngToCoordinate,this)},multiLatLngsToCoordinates:function(t){return t.length?Array.isArray(t[0])?t.map(this.latLngsToCoordinates,this):[t.map(this.latLngToCoordinate,this)]:[]}};L.jsts||(L.jsts={});var o=t.createPolygon(t.createLinearRing([]),[]),i=t.createMultiPolygon([o]),s=t.createLineString([]),r=t.createMultiLineString([s]);L.extend(L.jsts,{FACTORY:t,EMPTY_POLYGON:o,EMPTY_MULTIPOLYGON:i,EMPTY_LINESTRING:s,EMPTY_MULTILINESTRING:r,leafletTojsts:function(t){return e.from(t)},jstsToleaflet:function(t,e){return n.from(t,e)}})}(),function(){function t(t,e){L.Jsts.prototype[t]=function(){return n.apply(this,[e].concat(i.call(arguments,0)))}}function n(t,n){var e=this.geometry();if(e.isEmpty())return!1;var o=n.jsts.geometry();if(o.isEmpty())return!1;if(arguments.length<3)return e[t](o);var s=[o].concat(i.call(arguments,2));return e[t].apply(e,s)}function e(t,n){L.Jsts.prototype[t]=function(){return o.apply(this,[n].concat(i.call(arguments,0)))}}function o(t,n){var e,o=this.geometry(),s=n.jsts.geometry();if(arguments.length<3)e=o[t](s);else{var r=[s].concat(i.call(arguments,2));e=o[t].apply(o,r)}return this._apply(e)}L.Jsts=L.Class.extend({includes:[L.jsts.BinaryTest,L.jsts.BinaryTopology],initialize:function(t){this._target=t},geometry:function(){return this._target.getJstsGeometry()},_apply:function(t){return this._target.jstsCopy(t)}});var i=Array.prototype.slice,s={intersects:"intersects",within:"within"};for(var r in s)t(r,s[r]);var a={intersection:"intersection",union:"union",difference:"difference"};for(var r in a)e(r,a[r])}(),L.FeatureGroup.include({getJstsGeometry:function(){if(!this._jstsGeometry){var t=L.jsts.EMPTY_MULTIPOLYGON;this.eachLayer(function(n){var e=n.getJstsGeometry();t=t?t.union(e):e}),this._jstsGeometry=t}return this._jstsGeometry},_cleanJstsGeometry:function(){delete this._jstsGeometry}}),L.Path.include({getJstsGeometry:function(){return this._jstsGeometry||(this._jstsGeometry=L.jsts.leafletTojsts(this)),this._jstsGeometry},jstsCopy:function(t){var n;if(t.isEmpty())if(n=new this.constructor([],this.options),this instanceof L.MultiPolygon)t=L.jsts.EMPTY_MULTIPOLYGON;else if(this instanceof L.MultiPolyline)t=L.jsts.EMPTY_MULTILINESTRING;else if(this instanceof L.Polygon)t=L.jsts.EMPTY_POLYGON;else{if(!(this instanceof L.Polyline))throw new Error("Unsupported L.Path type");t=L.jsts.EMPTY_LINESTRING}else n=L.jsts.jstsToleaflet(t,this.options);return n._jstsGeometry=t,n}}),Object.defineProperty(L.Path.prototype,"jsts",{get:function(){return this._jsts||(this._jsts=new L.Jsts(this)),this._jsts}});