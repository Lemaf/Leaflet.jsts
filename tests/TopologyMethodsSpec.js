describe('Topology methods:', function() {

	describe('Intersection should', function() {

		it('valid', function() {

			var pol1 = L.polygon([[-20.85258918296893427,-44.68342922899884684],[-21.48768699654775816,-46.50989643268123785],[-20.18365937859609005,-46.05845799769850402],[-20.85258918296893427,-44.68342922899884684]]);
			var pol2 = L.polygon([[-21.7817606444188776,-46.38446490218641571],[-21.23078250863061456,-46.76144994246259046],[-20.76680092059838856,-44.43187571921748713],[-21.7817606444188776,-46.38446490218641571]]);

			var intersection = pol1.jsts.intersection(pol2);

			chai.expect(intersection.getJstsGeometry().isValid()).to.be.true;
		});

		it('equals to expected', function() {

			var pol1 = L.polygon([[-20.85258918296893427,-44.68342922899884684],[-21.48768699654775816,-46.50989643268123785],[-20.18365937859609005,-46.05845799769850402],[-20.85258918296893427,-44.68342922899884684]]);
			var pol2 = L.polygon([[-21.7817606444188776,-46.38446490218641571],[-21.23078250863061456,-46.76144994246259046],[-20.76680092059838856,-44.43187571921748713],[-21.7817606444188776,-46.38446490218641571]]);

			var intersection = pol1.jsts.intersection(pol2).getJstsGeometry();

			var wkt = intersection.toString();

			chai.expect(wkt).to.be.equal('POLYGON((-44.68342922899885 -20.852589182968934,-46.50989643268124 -21.487686996547758,-46.39574369399645 -21.157944749600013,-44.73547632614099 -20.82726909127195,-44.68342922899885 -20.852589182968934))');
		});

		it('empty', function() {
			var pol1 = L.polygon([[-20.85258918296893427,-44.68342922899884684],[-21.48768699654775816,-46.50989643268123785],[-20.18365937859609005,-46.05845799769850402],[-20.85258918296893427,-44.68342922899884684]]);
			var pol2 = L.polygon([[-46.38446490218641571,-21.7817606444188776],[-46.54247569760121905,-21.53981874129787144],[-44.43187571921748713,-20.76680092059838856],[-46.38446490218641571,-21.7817606444188776]]);

			var intersection = pol2.jsts.intersection(pol1).getJstsGeometry();

			var wkt = intersection.toString();
			chai.expect(wkt).to.be.equal('POLYGON EMPTY');
		})

		it('polygin with hole', function() {
			var pol1 = L.polygon([
				[[-20.85258918296893427, -44.68342922899884684], [-21.48768699654775816, -46.50989643268123785], [-21.15794474960001281, -46.39574369399645093], [-20.82726909127195114, -44.73547632614099001], [-20.85258918296893427, -44.68342922899884684]],
				[[-21.16854222023985699, -46.38836611489775663], [-21.46973368700093943, -46.48671434894219345], [-21.40703668779761415, -46.32075170399220809], [-21.25336757210317984, -46.27034823404443387], [-21.38122027636094913, -46.25928405771443153], [-21.22140439603873929, -46.19658705851110625], [-21.35540386492428411, -46.17937611755333194], [-21.17100092609096507, -46.120367177126667], [-21.31729392423206448, -46.10561494202000432], [-21.13166163247319318, -46.01587217845445821], [-21.29393621864651109, -45.99005576701779319], [-21.07511139789763988, -45.89047818004780055], [-21.16854222023985699, -46.38836611489775663]],
				[[-21.07634075082319569, -45.87203788616446332], [-21.09232233885541774, -45.76631353456669871], [-21.17591833779318833, -45.93104682659112825], [-20.91898357635209749, -44.97092219173232053], [-21.28287204231651231, -45.9753035319111234], [-20.90423134124543481, -44.88855554572010931], [-20.88210298858543368, -44.9205187217845463], [-21.07634075082319569, -45.87203788616446332]]
			]);

			// chai.expect(pol1.getJstsGeometry().toString()).to.be.equal('D');

			var pol2 = L.polygon([
				[-20.98313344719471729, -46.19504894668438055], [-21.08951320112259609, -46.27926625187728149], [-21.5209422031634432, -46.14776905604976776], [-21.45593235354085238, -45.45039066918921833], [-20.8412937752908789, -45.60552781033404557], [-20.98313344719471729, -46.19504894668438055]
			]);

			var intersection = pol1.jsts.intersection(pol2).getJstsGeometry();

			var wkt = intersection.toString();
			chai.expect(wkt).to.be.equal('POLYGON((-45.528507903888226 -21.146439309400037,-46.191635305448536 -21.377021474798937,-46.22049320369608 -21.28234162886318,-46.196587058511106 -21.22140439603874,-46.17937611755333 -21.355403864924284,-46.12036717712667 -21.171000926090965,-46.105614942020004 -21.317293924232064,-46.01587217845446 -21.131661632473193,-45.99005576701779 -21.29393621864651,-45.8904781800478 -21.07511139789764,-46.26238429704772 -21.144901187754417,-46.26626860102043 -21.132157179214747,-45.567253185930134 -20.992934191976843,-45.56216693341058 -21.013085440054315,-45.87203788616446 -21.076340750823196,-45.7663135345667 -21.092322338855418,-45.93104682659113 -21.17591833779319,-45.54700712668868 -21.073147150495352,-45.5343914848521 -21.1231291219622,-45.97530353191112 -21.282872042316512,-45.532971177453156 -21.128756244609438,-45.528507903888226 -21.146439309400037))');
		});
	});

});